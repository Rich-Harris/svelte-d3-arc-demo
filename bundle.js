!function(){"use strict";function t(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new t}function e(t){return t>1?0:t<-1?tt:Math.acos(t)}function i(t){return t>=1?nt:t<=-1?-nt:Math.asin(t)}function o(t){return t.innerRadius}function s(t){return t.outerRadius}function r(t){return t.startAngle}function a(t){return t.endAngle}function h(t){return t&&t.padAngle}function c(t,n,e,i,o,s,r,a){var h=e-t,c=i-n,u=r-o,l=a-s,_=(u*(n-s)-l*(t-o))/(l*h-u*c);return[t+_*h,n+_*c]}function u(t,n,e,i,o,s,r){var a=t-e,h=n-i,c=(r?s:-s)/Y(a*a+h*h),u=c*h,l=-c*a,_=t+u,f=n+l,p=e+u,y=i+l,v=(_+p)/2,x=(f+y)/2,d=p-_,g=y-f,m=d*d+g*g,b=o-s,M=_*y-p*f,w=(g<0?-1:1)*Y(V(0,b*b*m-M*M)),T=(M*g-d*w)/m,A=(-M*d-g*w)/m,N=(M*g+d*w)/m,k=(-M*d+g*w)/m,P=T-v,z=A-x,C=N-v,E=k-x;return P*P+z*z>C*C+E*E&&(T=N,A=k),{cx:T,cy:A,x01:-u,y01:-l,x11:T*(o/b-1),y11:A*(o/b-1)}}function l(t){this._context=t}function _(t){return t<0?-1:1}function f(t,n,e){var i=t._x1-t._x0,o=n-t._x1,s=(t._y1-t._y0)/(i||o<0&&-0),r=(e-t._y1)/(o||i<0&&-0),a=(s*o+r*i)/(i+o);return(_(s)+_(r))*Math.min(Math.abs(s),Math.abs(r),.5*Math.abs(a))||0}function p(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function y(t,n,e){var i=t._x0,o=t._y0,s=t._x1,r=t._y1,a=(s-i)/3;t._context.bezierCurveTo(i+a,o+a*n,s-a,r-a*e,s,r)}function v(t){this._context=t}function x(t){this._context=new d(t)}function d(t){this._context=t}function g(t,n){n.appendChild(t)}function m(t,n,e){n.insertBefore(t,e)}function b(t){t.parentNode.removeChild(t)}function M(t,n,e){for(var i=e||0;i<t.length;i+=1)t[i].teardown(n)}function w(t){return document.createElement(t)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function N(){return document.createComment("")}function k(t,n,e){t.addEventListener(n,e,!1)}function P(t,n,e){t.removeEventListener(n,e,!1)}function z(t,n,e){t.setAttribute(n,e)}function C(t){return t?this._state[t]:this._state}function E(t,n){var e=this,i=t in this._handlers&&this._handlers[t].slice();if(i)for(var o=0;o<i.length;o+=1)i[o].call(e,n)}function j(t,n,e){var i=e&&e.defer?this._observers.pre:this._observers.post;return(i[t]||(i[t]=[])).push(n),e&&e.init===!1||(n.__calling=!0,n.call(this,this._state[t]),n.__calling=!1),{cancel:function(){var e=i[t].indexOf(n);~e&&i[t].splice(e,1)}}}function O(t,n){var e=this._handlers[t]||(this._handlers[t]=[]);return e.push(n),{cancel:function(){var t=e.indexOf(n);~t&&e.splice(t,1)}}}function R(t){this._set(t),(this._root||this)._flush()}function L(){var t=this;if(this._renderHooks)for(;this._renderHooks.length;){var n=t._renderHooks.pop();n.fn.call(n.context)}}function S(t,n,e,i){for(var o in n)if(o in e){var s=e[o],r=i[o];if(s!==r||"object"==typeof s){var a=n[o];if(a)for(var h=0;h<a.length;h+=1){var c=a[h];c.__calling||(c.__calling=!0,c.call(t,s,r),c.__calling=!1)}}}}function I(t,n,e,i){(i||"segments"in n&&"object"==typeof t.segments||t.segments!==e.segments||"angle"in n&&"object"==typeof t.angle||t.angle!==e.angle)&&(t.arcs=n.arcs=ot.computed.arcs(t.segments,t.angle))}function q(){var t=w("style");t.textContent="\n  input[svelte-4124246572], [svelte-4124246572] input {\n    width: 100%;\n  }\n\n  svg[svelte-4124246572], [svelte-4124246572] svg {\n    width: 100%;\n    height: calc(100% - 2em);\n  }\n\n  path[svelte-4124246572], [svelte-4124246572] path {\n   \tstroke: white;\n  }\n\n  text[svelte-4124246572], [svelte-4124246572] text {\n    font-size: 3px;\n    text-anchor: middle;\n  }\n\n  [svelte-4124246572].outline, [svelte-4124246572] .outline {\n    stroke: white;\n    stroke-width: 0.5px;\n  }\n",g(t,document.head),st=!0}function H(t,n){function e(){o=!0,n._set({angle:i.value}),o=!1}var i=w("input");z(i,"svelte-4124246572","");var o=!1;k(i,"input",e),i.type="range",i.min="0";var s=2*("Math"in t?t.Math:Math).PI;i.max=s,i.step="0.01",i.value=t.angle;var r=A("\n\n"),a=T("svg");z(a,"svelte-4124246572",""),z(a,"viewBox","0 0 100 100");var h=T("g");z(h,"svelte-4124246572",""),z(h,"transform","translate(50,50)"),g(h,a);var c=N();g(c,h);for(var u=t.arcs,l=[],_=0;_<u.length;_+=1)l[_]=B(t,u,u[_],_,n),l[_].mount(c.parentNode,c);return{mount:function(t,n){m(i,t,n),m(r,t,n),m(a,t,n)},update:function(t,e){var r;o||(i.value=e.angle),(r=2*("Math"in e?e.Math:Math).PI)!==s&&(s=r,i.max=s);for(var a=e.arcs,h=0;h<a.length;h+=1)l[h]?l[h].update(t,e,a,a[h],h):(l[h]=B(e,a,a[h],h,n),l[h].mount(c.parentNode,c));M(l,!0,a.length),l.length=a.length},teardown:function(t){P(i,"input",e),M(l,!1),t&&(b(i),b(r),b(a))}}}function B(t,n,e,i,o){var s=T("path");z(s,"svelte-4124246572","");var r=e.d;z(s,"d",r);var a=e.color;z(s,"fill",a);var h=T("text");z(h,"svelte-4124246572",""),z(h,"class","outline");var c=e.centroid[0];z(h,"x",c);var u=e.centroid[1];z(h,"y",u);var l=e.label,_=A(l);g(_,h);var f=T("text");z(f,"svelte-4124246572","");var p=e.centroid[0];z(f,"x",p);var y=e.centroid[1];z(f,"y",y);var v=e.label,x=A(v);return g(x,f),{mount:function(t,n){m(s,t,n),m(h,t,n),m(f,t,n)},update:function(t,n,e,i,o){var d;(d=i.d)!==r&&(r=d,z(s,"d",r)),(d=i.color)!==a&&(a=d,z(s,"fill",a)),(d=i.centroid[0])!==c&&(c=d,z(h,"x",c)),(d=i.centroid[1])!==u&&(u=d,z(h,"y",u)),(d=i.label)!==l&&(_.data=l=d),(d=i.centroid[0])!==p&&(p=d,z(f,"x",p)),(d=i.centroid[1])!==y&&(y=d,z(f,"y",y)),(d=i.label)!==v&&(x.data=v=d)},teardown:function(t){t&&(b(s),b(h),b(f))}}}function Z(t){t=t||{},this._state=Object.assign(ot.data(),t.data),I(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root,this._yield=t._yield,this._torndown=!1,st||q(),this._fragment=H(this._state,this),t.target&&this._fragment.mount(t.target,null)}var Q=Math.PI,D=2*Q,F=D-1e-6;t.prototype=n.prototype={constructor:t,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,o,s){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+o)+","+(this._y1=+s)},arcTo:function(t,n,e,i,o){t=+t,n=+n,e=+e,i=+i,o=+o;var s=this._x1,r=this._y1,a=e-t,h=i-n,c=s-t,u=r-n,l=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(u*a-h*c)>1e-6&&o){var _=e-s,f=i-r,p=a*a+h*h,y=_*_+f*f,v=Math.sqrt(p),x=Math.sqrt(l),d=o*Math.tan((Q-Math.acos((p+l-y)/(2*v*x)))/2),g=d/x,m=d/v;Math.abs(g-1)>1e-6&&(this._+="L"+(t+g*c)+","+(n+g*u)),this._+="A"+o+","+o+",0,0,"+ +(u*_>c*f)+","+(this._x1=t+m*a)+","+(this._y1=n+m*h)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,i,o,s){t=+t,n=+n,e=+e;var r=e*Math.cos(i),a=e*Math.sin(i),h=t+r,c=n+a,u=1^s,l=s?i-o:o-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+h+","+c:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+h+","+c),e&&(l<0&&(l=l%D+D),l>F?this._+="A"+e+","+e+",0,1,"+u+","+(t-r)+","+(n-a)+"A"+e+","+e+",0,1,"+u+","+(this._x1=h)+","+(this._y1=c):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Q)+","+u+","+(this._x1=t+e*Math.cos(o))+","+(this._y1=n+e*Math.sin(o))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};var G=function(t){return function(){return t}},J=Math.abs,K=Math.atan2,U=Math.cos,V=Math.max,W=Math.min,X=Math.sin,Y=Math.sqrt,$=1e-12,tt=Math.PI,nt=tt/2,et=2*tt,it=function(){function t(){var t,o,s=+l.apply(this,arguments),r=+_.apply(this,arguments),a=y.apply(this,arguments)-nt,h=v.apply(this,arguments)-nt,g=J(h-a),m=h>a;if(d||(d=t=n()),r<s&&(o=r,r=s,s=o),r>$)if(g>et-$)d.moveTo(r*U(a),r*X(a)),d.arc(0,0,r,a,h,!m),s>$&&(d.moveTo(s*U(h),s*X(h)),d.arc(0,0,s,h,a,m));else{var b,M,w=a,T=h,A=a,N=h,k=g,P=g,z=x.apply(this,arguments)/2,C=z>$&&(p?+p.apply(this,arguments):Y(s*s+r*r)),E=W(J(r-s)/2,+f.apply(this,arguments)),j=E,O=E;if(C>$){var R=i(C/s*X(z)),L=i(C/r*X(z));(k-=2*R)>$?(R*=m?1:-1,A+=R,N-=R):(k=0,A=N=(a+h)/2),(P-=2*L)>$?(L*=m?1:-1,w+=L,T-=L):(P=0,w=T=(a+h)/2)}var S=r*U(w),I=r*X(w),q=s*U(N),H=s*X(N);if(E>$){var B=r*U(T),Z=r*X(T),Q=s*U(A),D=s*X(A);if(g<tt){var F=k>$?c(S,I,Q,D,B,Z,q,H):[q,H],G=S-F[0],V=I-F[1],it=B-F[0],ot=Z-F[1],st=1/X(e((G*it+V*ot)/(Y(G*G+V*V)*Y(it*it+ot*ot)))/2),rt=Y(F[0]*F[0]+F[1]*F[1]);j=W(E,(s-rt)/(st-1)),O=W(E,(r-rt)/(st+1))}}P>$?O>$?(b=u(Q,D,S,I,r,O,m),M=u(B,Z,q,H,r,O,m),d.moveTo(b.cx+b.x01,b.cy+b.y01),O<E?d.arc(b.cx,b.cy,O,K(b.y01,b.x01),K(M.y01,M.x01),!m):(d.arc(b.cx,b.cy,O,K(b.y01,b.x01),K(b.y11,b.x11),!m),d.arc(0,0,r,K(b.cy+b.y11,b.cx+b.x11),K(M.cy+M.y11,M.cx+M.x11),!m),d.arc(M.cx,M.cy,O,K(M.y11,M.x11),K(M.y01,M.x01),!m))):(d.moveTo(S,I),d.arc(0,0,r,w,T,!m)):d.moveTo(S,I),s>$&&k>$?j>$?(b=u(q,H,B,Z,s,-j,m),M=u(S,I,Q,D,s,-j,m),d.lineTo(b.cx+b.x01,b.cy+b.y01),j<E?d.arc(b.cx,b.cy,j,K(b.y01,b.x01),K(M.y01,M.x01),!m):(d.arc(b.cx,b.cy,j,K(b.y01,b.x01),K(b.y11,b.x11),!m),d.arc(0,0,s,K(b.cy+b.y11,b.cx+b.x11),K(M.cy+M.y11,M.cx+M.x11),m),d.arc(M.cx,M.cy,j,K(M.y11,M.x11),K(M.y01,M.x01),!m))):d.arc(0,0,s,N,A,m):d.lineTo(q,H)}else d.moveTo(0,0);if(d.closePath(),t)return d=null,t+""||null}var l=o,_=s,f=G(0),p=null,y=r,v=a,x=h,d=null;return t.centroid=function(){var t=(+l.apply(this,arguments)+ +_.apply(this,arguments))/2,n=(+y.apply(this,arguments)+ +v.apply(this,arguments))/2-tt/2;return[U(n)*t,X(n)*t]},t.innerRadius=function(n){return arguments.length?(l="function"==typeof n?n:G(+n),t):l},t.outerRadius=function(n){return arguments.length?(_="function"==typeof n?n:G(+n),t):_},t.cornerRadius=function(n){return arguments.length?(f="function"==typeof n?n:G(+n),t):f},t.padRadius=function(n){return arguments.length?(p=null==n?null:"function"==typeof n?n:G(+n),t):p},t.startAngle=function(n){return arguments.length?(y="function"==typeof n?n:G(+n),t):y},t.endAngle=function(n){return arguments.length?(v="function"==typeof n?n:G(+n),t):v},t.padAngle=function(n){return arguments.length?(x="function"==typeof n?n:G(+n),t):x},t.context=function(n){return arguments.length?(d=null==n?null:n,t):d},t};l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y(this,this._t0,p(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,y(this,p(this,e=f(this,t,n)),e);break;default:y(this,this._t0,e=f(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(x.prototype=Object.create(v.prototype)).point=function(t,n){v.prototype.point.call(this,n,t)},d.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,o,s){this._context.bezierCurveTo(n,t,i,e,s,o)}};var ot=function(){return{data:function(){return{angle:2*Math.PI}},computed:{arcs:function(t,n){var e=t.reduce(function(t,n){return t+n.size},0),i=it(),o=0;return t.map(function(t){var s={innerRadius:20,outerRadius:40,startAngle:o,endAngle:o+=n*t.size/e};return{color:t.color,label:t.label,d:i(s),centroid:i.centroid(s)}})}}}}(),st=!1;Z.prototype.get=C,Z.prototype.fire=E,Z.prototype.observe=j,Z.prototype.on=O,Z.prototype.set=R,Z.prototype._flush=L,Z.prototype._set=function(t){var n=this._state;this._state=Object.assign({},n,t),I(this._state,t,n,!1),S(this,this._observers.pre,t,n),this._fragment&&this._fragment.update(t,this._state),S(this,this._observers.post,t,n)},Z.prototype.teardown=Z.prototype.destroy=function(t){this.fire("teardown"),this._fragment.teardown(t!==!1),this._fragment=null,this._state={},this._torndown=!0};var rt=[{size:5,label:"this thing",color:"rgb(100,180,200)"},{size:8,label:"that thing",color:"rgb(150,200,250)"},{size:11,label:"another thing",color:"rgb(80,100,150)"}],at={segments:rt};document.body.innerHTML="",new Z({target:document.body,data:at})}();
